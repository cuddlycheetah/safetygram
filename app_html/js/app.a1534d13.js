(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],u=0,v=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1a88":function(e,t,a){},"22de":function(e,t,a){"use strict";var n=a("88fe"),r=a.n(n);r.a},"43b9":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},"4abe":function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"peer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"peer"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MongoID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"chatNamesetOne"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"_ID_DESC"}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"chat"},value:{kind:"Variable",name:{kind:"Name",value:"peer"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};a.loc.source={body:"query peer ($peer: MongoID!) {\n  name: chatNamesetOne(sort:_ID_DESC, filter: { chat: $peer }) {\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}function i(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var n=r[t]||new Set,i=new Set,o=new Set;n.forEach((function(e){o.add(e)}));while(o.size>0){var l=o;o=new Set,l.forEach((function(e){if(!i.has(e)){i.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return i.forEach((function(t){var n=s(e,t);n&&a.definitions.push(n)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}}))})(),e.exports=a,e.exports["peer"]=i(a,"peer")},"4ada":function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"peer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"peer"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MongoID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"userNamesetOne"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"_ID_DESC"}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"Variable",name:{kind:"Name",value:"peer"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129}};a.loc.source={body:"query peer ($peer: MongoID!) {\n  name: userNamesetOne(sort:_ID_DESC, filter: { user: $peer }) {\n    firstName\n    lastName\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var r={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}function i(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var n=r[t]||new Set,i=new Set,o=new Set;n.forEach((function(e){o.add(e)}));while(o.size>0){var l=o;o=new Set,l.forEach((function(e){if(!i.has(e)){i.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return i.forEach((function(t){var n=s(e,t);n&&a.definitions.push(n)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}}))})(),e.exports=a,e.exports["peer"]=i(a,"peer")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},s=[],i={},o=i,l=a("2877"),c=Object(l["a"])(o,r,s,!1,null,null,null),d=c.exports,u=(a("45fc"),a("8c4f")),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Safetygram")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{href:"https://github.com/cuddlycheetah/safetygram",icon:"",large:"",target:"_blank"}},n),[a("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"#000000",d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"}})])])]}}])},[a("span",[e._v("Source Code")])])],1),a("v-card-text",[a("v-form",{on:{submit:[e.login,function(t){return t.preventDefault(),e.send(t)}]}},[a("v-text-field",{attrs:{id:"password",label:"Password","prepend-icon":"lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.error?a("div",{staticClass:"alert alert-danger"},[a("p",[e._v(e._s(e.error))])]):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)},m=[],p=a("bc3a"),f=a.n(p),h={name:"Login",props:{source:String},data:function(){return{password:"",error:""}},mounted:function(){this.$vuetify.theme.dark=1==localStorage.getItem("darkTheme")},methods:{login:function(){var e=this;f.a.post("/api/login",{password:this.password}).then((function(e){200===e.status&&(localStorage.setItem("token",e.data),Bt.push("/"))}),(function(t){console.log(t.response),e.error=t.response.data}))}}},b=h,g=a("6544"),_=a.n(g),y=a("7496"),k=a("8336"),w=a("b0af"),j=a("99d9"),C=a("62ad"),S=a("a523"),x=a("a75b"),O=a("4bd4"),V=a("0fd9"),N=a("2fa4"),I=a("8654"),D=a("71d9"),$=a("2a7f"),T=a("3a2f"),P=Object(l["a"])(b,v,m,!1,null,null,null),A=P.exports;_()(P,{VApp:y["a"],VBtn:k["a"],VCard:w["a"],VCardActions:j["a"],VCardText:j["b"],VCol:C["a"],VContainer:S["a"],VContent:x["a"],VForm:O["a"],VRow:V["a"],VSpacer:N["a"],VTextField:I["a"],VToolbar:D["a"],VToolbarTitle:$["a"],VTooltip:T["a"]});var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"keep"}},[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"blue"}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),a("span",{staticClass:"title ml-3 mr-5"},[e._v(" Safetygram "),a("span",{staticClass:"font-weight-light"},[e._v("Beta")])]),a("v-text-field",{attrs:{"solo-inverted":"",flat:"","hide-details":"",label:"Search","prepend-inner-icon":"search"}}),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t,n){return[t.heading?a("v-row",{key:n,attrs:{align:"center"}},[a("v-col",{attrs:{cols:"6"}},[t.heading?a("v-subheader",[e._v(e._s(t.heading))]):e._e()],1)],1):t.divider?a("v-divider",{key:n,staticClass:"my-4",attrs:{dark:""}}):t.href?a("v-list-item",{key:n,attrs:{link:"",href:t.href,target:"_blank"}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[e._v(e._s(t.text))])],1)],1):t.link?a("v-list-item",{key:n,attrs:{link:"",to:t.link}},[a("v-list-item-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[e._v(e._s(t.text))])],1)],1):e._e()]})),a("v-divider",{staticClass:"my-4",attrs:{dark:""}}),a("v-list-item",[a("v-list-item-action",[a("v-switch",{model:{value:e.darkTheme,callback:function(t){e.darkTheme=t},expression:"darkTheme"}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[e._v("Dark Theme")])],1)],1),a("v-divider",{staticClass:"my-4",attrs:{dark:""}}),a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.logout()}}},[a("v-list-item-action",[a("v-icon",[e._v("logout")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text"},[e._v("Logout")])],1)],1)],2)],1),a("v-content",[a("router-view")],1)],1)},L=[],F={props:{source:String},data:function(){return{drawer:null,items:[{icon:"dashboard",text:"Dashboard",link:"/"},{icon:"developer_mode",text:"Raw Query Interface",link:"/rqi"},{divider:!0},{icon:"chat",text:"Chats",link:"/chats"},{icon:"delete",text:"Deleted Messages",link:"/deletedmsgs"},{divider:!0},{icon:"build",text:"Operations",link:"/operations"},{icon:"settings",text:"Settings",link:"/settings"},{divider:!0},{icon:"new_releases",text:"News & Updates",href:"https://t.me/Safetygram"},{icon:"help",text:"Help (Wiki)",href:"https://github.com/cuddlycheetah/safetygram/wiki/Help"},{icon:"live_help",text:"Support Chat",href:"https://t.me/joinchat/AmGzaUvpit2VP-g4V5NDdA"}],darkTheme:localStorage.getItem("darkTheme")}},created:function(){null===localStorage.getItem("token")&&this.$router.push("/login")},mounted:function(){this.$vuetify.theme.dark=1==localStorage.getItem("darkTheme"),this.darkTheme=this.$vuetify.theme.dark},watch:{darkTheme:function(e){this.$vuetify.theme.dark=e;try{localStorage.setItem("darkTheme",e?1:0)}catch(t){console.error(t)}}},methods:{logout:function(){localStorage.clear(),this.$router.push("/login")}}},M=F,z=(a("22de"),a("40dc")),q=a("5bc1"),H=a("ce7e"),U=a("132d"),R=a("8860"),B=a("da13"),Q=a("1800"),G=a("5d23"),W=a("f774"),Y=a("e0c7"),J=a("b73d"),Z=Object(l["a"])(M,E,L,!1,null,null,null),K=Z.exports;_()(Z,{VApp:y["a"],VAppBar:z["a"],VAppBarNavIcon:q["a"],VCol:C["a"],VContent:x["a"],VDivider:H["a"],VIcon:U["a"],VList:R["a"],VListItem:B["a"],VListItemAction:Q["a"],VListItemContent:G["a"],VListItemTitle:G["b"],VNavigationDrawer:W["a"],VRow:V["a"],VSpacer:N["a"],VSubheader:Y["a"],VSwitch:J["a"],VTextField:I["a"]});var X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"3"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("v-card-title",[e._v("Database Size:")]),a("v-card-text",[e._v(e._s(e.stats.totalDBSize)+" MB")])],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"3"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("v-card-title",[e._v("Chats:")]),a("v-card-text",[e._v(e._s(e.stats.chats))])],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"3"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("v-card-title",[e._v("Users:")]),a("v-card-text",[e._v(e._s(e.stats.users))])],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"4",md:"3"}},[a("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("v-card-title",[e._v("Deleted Messages:")]),a("v-card-text",[e._v(e._s(e.stats.messagesDeleted)+" / "+e._s(e.stats.messages)+" total Messages")])],1)],1)],1),a("v-bottom-sheet",{attrs:{persistent:"",fullscreen:""},model:{value:e.showSetupHint,callback:function(t){e.showSetupHint=t},expression:"showSetupHint"}},[a("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[a("div",{staticClass:"py-3"},[e._v(" Telegram has not been configured yet. Please follow the Setup. ")]),a("v-btn",{staticClass:"mt-6",attrs:{color:"error",to:"/setup"}},[e._v("Setup")])],1)],1)],1)},ee=[],te=a("8785"),ae=a("9530"),ne=a.n(ae);function re(){var e=Object(te["a"])(["{\n  stats {\n    chats\n    users\n    messages\n    messagesDeleted\n    files\n    totalDBSize\n    totalArchiveSize\n    telegramStatus\n  }\n}"]);return re=function(){return e},e}var se=ne()(re()),ie={name:"Dashboard",apollo:{stats:{query:se,pollInterval:1e3}},computed:{showSetupHint:function(){return!!this.stats&&"authorizationStateReady"!==this.stats.telegramStatus}}},oe=ie,le=a("288c"),ce=a("8dd9"),de=a("269a"),ue=a.n(de),ve=a("5607"),me=Object(l["a"])(oe,X,ee,!1,null,null,null),pe=me.exports;_()(me,{VBottomSheet:le["a"],VBtn:k["a"],VCard:w["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:C["a"],VContainer:S["a"],VRow:V["a"],VSheet:ce["a"]}),ue()(me,{Ripple:ve["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-overview"},[a("v-list",{attrs:{"three-line":""}},[this.$apollo.queries.chatOverview.loading?a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line,list-item-avatar-three-line"}}):e._e(),e._l(e.chatOverview,(function(t){return[a("v-list-item",{key:t._id,attrs:{to:"/chats/"+t._id}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:"/api/file/"+t.photo}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.name)}})],1)],1)]}))],2)],1)},he=[];function be(){var e=Object(te["a"])(["{\n  chatOverview {\n    _id\n    type\n    name\n    photo\n    user\n  }\n}"]);return be=function(){return e},e}var ge=ne()(be()),_e={apollo:{chatOverview:{query:ge,pollInterval:5e3}}},ye=_e,ke=a("adda"),we=a("8270"),je=a("3129"),Ce=Object(l["a"])(ye,fe,he,!1,null,null,null),Se=Ce.exports;_()(Ce,{VImg:ke["a"],VList:R["a"],VListItem:B["a"],VListItemAvatar:we["a"],VListItemContent:G["a"],VListItemTitle:G["b"],VSkeletonLoader:je["a"]});var xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",[n("v-toolbar",[n("v-toolbar-title",[n("ApolloQuery",{attrs:{query:a("4abe"),variables:{peer:e.$route.params.id}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.result,r=a.loading,s=a.error,i=a.data;return[r?n("div",{staticClass:"loading apollo"},[e._v("Loading Name...")]):s?n("div",{staticClass:"error apollo"},[e._v("An error occurred")]):i?n("div",{staticClass:"result apollo"},[e._v(e._s(i.name.name))]):n("div",{staticClass:"no-result apollo"},[e._v(e._s(e.$route.params.id))])]}}])})],1),n("v-spacer"),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",color:"primary",dark:""}},a),[n("v-icon",[e._v("menu")])],1)]}}])},[n("v-card",[n("v-list",[n("v-list-item")],1),n("v-divider"),n("v-list",[n("v-btn",{attrs:{text:""},on:{click:e.importChat}},[e._v("Import Chat")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.menu=!1}}},[e._v("Save")])],1)],1)],1)],1),n("div",{staticClass:"chat-container infinite-wrapper",class:{dark:e.$vuetify.theme.dark}},[n("infinite-loading",{attrs:{"force-use-infinite-wrapper":".infinite-wrapper",direction:"top"},on:{infinite:e.infiniteHandler}}),n("div",{staticStyle:{display:"flex","flex-direction":"column-reverse"}},e._l(e.chatMsgs,(function(t,r){var s;return n("div",{key:r,staticClass:"message",class:(s={own:t.isOutgoing,deleted:t.deleted},s[t.content._]=!0,s)},[n("div",{staticClass:"content"},[r>0&&e.chatMsgs[r+1]&&e.chatMsgs[r+1].from!=t.from||r==e.chatMsgs.length?n("ApolloQuery",{staticClass:"username",attrs:{query:"User"==t.fromType?a("4ada"):a("4abe"),variables:{peer:t.from}},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.result,s=r.loading,i=r.error,o=r.data;return[s?n("div",{staticClass:"loading apollo"},[e._v("Loading Name...")]):i?n("div",{staticClass:"error apollo"},[e._v("An error occurred")]):o?n("div",{staticClass:"result apollo"},[e._v(e._s(o.name.name||o.name.firstName+" "+o.name.lastName))]):n("div",{staticClass:"no-result apollo"},[e._v(e._s(t.from))])]}}],null,!0)}):e._e(),t.forwardedType?n("ApolloQuery",{staticClass:"forwardedfrom",attrs:{query:"messageForwardOriginUser"==t.forwardedType?a("4ada"):a("4abe"),variables:{peer:t.forwardedFrom}},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.result,s=r.loading,i=r.error,o=r.data;return[s?n("div",{staticClass:"loading apollo"},[e._v("Loading Name...")]):i?n("div",{staticClass:"error apollo"},[e._v(e._s(t.forwardedName))]):o?n("div",{staticClass:"result apollo"},[e._v(e._s(o.name.name||o.name.firstName+" "+o.name.lastName))]):n("div",{staticClass:"no-result apollo"},[e._v(e._s(t.forwardedName))])]}}],null,!0)}):e._e(),n("div",{staticStyle:{"margin-top":"5px"}}),e._l([{newContent:t.content,date:t.createdAt}].concat(t.edits),(function(a,r){return n("div",{key:r},["messageText"===a.newContent._?n("div",{domProps:{textContent:e._s(a.newContent.text.text)}}):"messagePhoto"===a.newContent._?n("div",[n("v-img",{attrs:{src:"/api/file/"+t.contentFiles[1]}}),n("div",{domProps:{textContent:e._s(a.newContent.caption.text)}})],1):"messageSticker"===a.newContent._?n("div",[n("img",{attrs:{src:"/api/file/"+t.contentFiles[0]}})]):"messageVoiceNote"===a.newContent._?n("div",[n("audio",{attrs:{src:"/api/file/"+t.contentFiles[0],controls:""}})]):"messageVideoNote"===a.newContent._?n("div",[n("video",{attrs:{controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+t.contentFiles[1]}})]):"messageAnimation"===a.newContent._?n("div",[n("video",{attrs:{loop:"",autoplay:"",controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+t.contentFiles[1]}})]):"messageVideo"===a.newContent._?n("div",[n("video",{attrs:{controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+(t.contentFiles[1]||t.contentFiles[0])}})]):"messageAudio"===a.newContent._?n("div",[n("audio",{attrs:{src:"/api/file/"+t.contentFiles[0],controls:""}})]):"messageDocument"===a.newContent._?n("div",[n("a",{attrs:{download:t.content.document.fileName,href:"/api/file/"+t.contentFiles[0]}},[e._v(e._s(t.content.document.fileName))])]):n("div",{domProps:{innerHTML:e._s(a.newContent)}}),n("div",{staticClass:"timestamp"},[e._v(" "+e._s(e._f("moment")(a.date,"calendar"))+" ")])])})),t.deleted?n("div",{staticClass:"timestamp"},[n("br"),e._v("deleted "+e._s(e._f("moment")(t.deletedAt,"calendar"))+" ")]):e._e()],2)])})),0)],1)],1)},Oe=[],Ve=(a("99af"),a("2909")),Ne=a("e166"),Ie=a.n(Ne);function De(){var e=Object(te["a"])(["\n  query chatInfo($chatid: MongoID!) {\n    chatInfo: chatOne(filter: { _id: $chatid }) {\n      storageLevel\n      type\n      lastUpdate\n      user\n      basicGroupId\n      supergroupId \n    }\n  }\n"]);return De=function(){return e},e}function $e(){var e=Object(te["a"])(["\n  mutation importChat($chatId: MongoID!) {\n    importChat(chatId: $chatId)\n  }\n"]);return $e=function(){return e},e}function Te(){var e=Object(te["a"])(["\n  query getMessages($chatid: MongoID!, $page: Int!) {\n    messages: messagePagination(\n      filter: { peer: $chatid }\n      sort: CREATEDAT_DESC\n      page: $page\n      perPage: 10\n    ) {\n      count\n      items {\n        id\n        _id\n        peer\n        from\n        fromType\n\n        forwardedName\n        forwardedFrom\n        forwardedDate\n        forwardedType\n\n        content\n        contentFiles\n        edits\n        replyToMessageId\n        isOutgoing\n        createdAt\n        deleted\n        deletedAt\n      }\n    }\n  }\n"]);return Te=function(){return e},e}var Pe=ne()(Te()),Ae=ne()($e()),Ee=ne()(De()),Le={data:function(){return{content:"",chatMessages:[],loading:!1,totalChatHeight:0,page:1,messages:{items:[]}}},props:["chatid"],apollo:{chatInfo:{query:Ee,variables:function(){return{chatid:this.$route.params.id}},result:function(){console.log(this.chatInfo)}},messages:{query:Pe,variables:function(){return{chatid:this.$route.params.id,page:1}}}},components:{InfiniteLoading:Ie.a},computed:{chatMsgs:function(){var e=this.messages.items;return this.messages?e:[]}},methods:{importChat:function(){var e=this;this.$apollo.mutate({mutation:Ae,variables:{chatId:this.$route.params.id}}).then((function(){e.$router.push("/operations")}))},infiniteHandler:function(e){this.page++,this.$apollo.queries.messages.fetchMore({variables:{chatid:this.$route.params.id,page:this.page},updateQuery:function(t,a){var n=a.fetchMoreResult;return n.messages.items.length>0?e.loaded():e.complete(),{messages:{__typename:t.messages.__typename,count:t.messages.count,items:[].concat(Object(Ve["a"])(t.messages.items),Object(Ve["a"])(n.messages.items))}}}}).then((function(){}))}}},Fe=Le,Me=(a("ac44"),a("0e8f")),ze=a("e449"),qe=Object(l["a"])(Fe,xe,Oe,!1,null,null,null),He=qe.exports;_()(qe,{VBtn:k["a"],VCard:w["a"],VCardActions:j["a"],VDivider:H["a"],VFlex:Me["a"],VIcon:U["a"],VImg:ke["a"],VList:R["a"],VListItem:B["a"],VMenu:ze["a"],VSpacer:N["a"],VToolbar:D["a"],VToolbarTitle:$["a"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container deletedHistory"},[n("div",{staticStyle:{display:"flex","flex-direction":"column-reverse"}},e._l(e.messages,(function(t,r){var s;return n("div",{key:r,staticClass:"message",class:(s={own:t.isOutgoing,deleted:t.deleted},s[t.content._]=!0,s)},[n("div",{staticClass:"content"},[t.peer!==t.from?n("div",{staticClass:"deletedChatInfo"},[n("ApolloQuery",{attrs:{query:a("4abe"),variables:{peer:t.peer}},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.result,s=r.loading,i=r.error,o=r.data;return[s?n("div",{staticClass:"loading apollo"},[e._v("Loading Chat Name...")]):i?n("div",{staticClass:"error apollo"},[e._v("An error occurred peer")]):o?n("div",{staticClass:"result apollo"},[e._v(e._s(o.name.name||o.name.firstName+" "+o.name.lastName))]):n("div",{staticClass:"no-result apollo"},[e._v("peer="+e._s(t.peer))])]}}],null,!0)})],1):e._e(),t.forwardedFrom?n("div",{staticClass:"forwardedfrom"},[n("ApolloQuery",{attrs:{query:"messageForwardOriginUser"==t.peerType?a("4ada"):a("4abe"),variables:{peer:t.forwardedFrom}},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.result,s=r.loading,i=r.error,o=r.data;return[s?n("div",{staticClass:"loading apollo"},[e._v("Loading Name...")]):i?n("div",{staticClass:"error apollo"},[e._v(e._s(t.forwardedName))]):o?n("div",{staticClass:"result apollo"},[e._v(e._s(o.name.name||o.name.firstName+" "+o.name.lastName))]):n("div",{staticClass:"no-result apollo"},[e._v(e._s(t.forwardedName))])]}}],null,!0)})],1):e._e(),n("div",{staticClass:"username"},[n("ApolloQuery",{attrs:{query:"User"==t.fromType?a("4ada"):a("4abe"),variables:{peer:t.from}},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.result,s=r.loading,i=r.error,o=r.data;return[s?n("div",{staticClass:"loading apollo"},[e._v("Loading Name...")]):i?n("div",{staticClass:"error apollo"},[e._v("An error occurred")]):o?n("div",{staticClass:"result apollo"},[e._v(e._s(o.name.name||o.name.firstName+" "+o.name.lastName))]):n("div",{staticClass:"no-result apollo"},[e._v("from="+e._s(t.from))])]}}],null,!0)})],1),n("div",{staticStyle:{"margin-top":"5px"}}),e._l([{newContent:t.content,date:t.createdAt}].concat(t.edits),(function(a,r){return n("div",{key:r},["messageText"===a.newContent._?n("div",{domProps:{textContent:e._s(a.newContent.text.text)}}):"messagePhoto"===a.newContent._?n("div",[n("v-img",{attrs:{src:"/api/file/"+t.contentFiles[1]}}),n("div",{domProps:{textContent:e._s(a.newContent.caption.text)}})],1):"messageSticker"===a.newContent._?n("div",[n("img",{attrs:{src:"/api/file/"+t.contentFiles[0]}})]):"messageVoiceNote"===a.newContent._?n("div",[n("audio",{attrs:{src:"/api/file/"+t.contentFiles[0],controls:""}})]):"messageVideoNote"===a.newContent._?n("div",[n("video",{attrs:{controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+t.contentFiles[1]}})]):"messageAnimation"===a.newContent._?n("div",[n("video",{attrs:{loop:"",autoplay:"",controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+t.contentFiles[1]}})]):"messageVideo"===a.newContent._?n("div",[n("video",{attrs:{controls:"",poster:"/api/file/"+t.contentFiles[0],src:"/api/file/"+(t.contentFiles[1]||t.contentFiles[0])}})]):"messageAudio"===a.newContent._?n("div",[n("audio",{attrs:{src:"/api/file/"+t.contentFiles[0],controls:""}})]):"messageDocument"===a.newContent._?n("div",[n("a",{attrs:{download:t.content.document.fileName,href:"/api/file/"+t.contentFiles[0]}},[e._v(e._s(t.content.document.fileName))])]):n("div",{domProps:{innerHTML:e._s(a.newContent)}}),n("div",{staticClass:"timestamp"},[e._v(" "+e._s(e._f("moment")(a.date,"calendar"))+" ")])])})),t.deleted?n("div",{staticClass:"timestamp"},[n("br"),e._v("deleted "+e._s(e._f("moment")(t.deletedAt,"calendar"))+" ")]):e._e()],2)])})),0)])},Re=[];function Be(){var e=Object(te["a"])(["{\n  messages: messageMany(filter: { deleted: true }) {\n    id\n    _id\n    peer\n    from\n    fromType\n    content\n    contentFiles\n    edits\n    replyToMessageId\n    isOutgoing\n    createdAt\n    deleted\n    deletedAt\n  }\n}"]);return Be=function(){return e},e}var Qe=ne()(Be()),Ge={apollo:{messages:{query:Qe,pollInterval:5e3}}},We=Ge,Ye=(a("80f4"),Object(l["a"])(We,Ue,Re,!1,null,null,null)),Je=Ye.exports;_()(Ye,{VImg:ke["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{row:""}},["authorizationStateWaitPhoneNumber"===e.stats.telegramStatus?a("v-flex",{attrs:{sm6:""}},[a("vue-tel-input",e._b({attrs:{sm4:""},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}},"vue-tel-input",e.bindProps,!1)),a("v-btn",{on:{click:e.submitPhoneNumber}},[e._v("Continue")])],1):"authorizationStateWaitCode"===e.stats.telegramStatus?a("v-flex",{attrs:{sm6:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{label:"Code",placeholder:"-----",solo:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),a("v-btn",{on:{click:e.submitCode}},[e._v("Continue")])],1):"authorizationStateWaitPassword"===e.stats.telegramStatus?a("v-flex",{attrs:{sm6:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Password",placeholder:"***",type:"password",solo:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-btn",{on:{click:e.submitPassword}},[e._v("Continue")])],1):"authorizationStateReady"===e.stats.telegramStatus?a("v-flex",{attrs:{sm6:""}},[a("v-btn",{attrs:{to:"/"}},[e._v("Go To Dashboard")])],1):a("v-flex",{attrs:{sm6:""}},[e._v(" Invalid Authorization State: "+e._s(e.stats.telegramStatus)+" ")])],1)],1)},Ke=[],Xe=a("f62e");function et(){var e=Object(te["a"])(["\n  mutation setupPassword($password: String!) {\n    setupPassword(password: $password) {\n      telegramStatus\n    }\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(te["a"])(["\n  mutation setupCode($code: String!) {\n    setupCode(code: $code) {\n      telegramStatus\n    }\n  }\n"]);return tt=function(){return e},e}function at(){var e=Object(te["a"])(["\n  mutation setupPhoneNumber($phoneNumber: String!) {\n    setupPhoneNumber(phoneNumber: $phoneNumber) {\n      telegramStatus\n    }\n  }\n"]);return at=function(){return e},e}function nt(){var e=Object(te["a"])(["{\n  stats {\n    telegramStatus\n  }\n}"]);return nt=function(){return e},e}var rt=ne()(nt()),st=ne()(at()),it=ne()(tt()),ot=ne()(et()),lt={name:"SetupTelegram",components:{VueTelInput:Xe["a"]},apollo:{stats:{query:rt,pollInterval:1e3}},data:function(){return{bindProps:{mode:"international",ignoredCountries:["in"],validCharactersOnly:!0,required:!0},phoneNumber:"",code:"",password:""}},methods:{submitPhoneNumber:function(){this.$apollo.mutate({mutation:st,variables:{phoneNumber:this.phoneNumber}})},submitCode:function(){this.$apollo.mutate({mutation:it,variables:{code:this.code}})},submitPassword:function(){this.$apollo.mutate({mutation:ot,variables:{password:this.password}})}}},ct=lt,dt=a("a722"),ut=Object(l["a"])(ct,Ze,Ke,!1,null,null,null),vt=ut.exports;_()(ut,{VBtn:k["a"],VCol:C["a"],VContainer:S["a"],VFlex:Me["a"],VLayout:dt["a"],VTextField:I["a"]});var mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-overview"},[a("v-list",{attrs:{"three-line":""}},[e._l(e.options,(function(t){return[a("v-list-item",{key:t.key,class:{dirty:e.dirty[t.key]}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(t.desc)+" "),a("pre",{staticStyle:{"font-size":"0.75rem"}},[e._v(e._s(t.key))])]),a("v-list-item-action",["password"===t.key?a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-row",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",placeholder:"Specify a new Password",solo:""},on:{keyup:function(a){return e.markDirty(t.key)}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),e.dirty[t.key]?a("v-btn",{attrs:{large:"",raised:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Change Password")]):a("v-btn",{attrs:{large:"",disabled:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Change Password")])],1)],1):a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},["bool"===t.type?a("v-switch",{on:{change:function(a){return e.changeOption(t.key,t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}},[e._v("Value")]):"string"===t.type?[a("v-row",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{placeholder:t.default,solo:""},on:{keyup:function(a){return e.markDirty(t.key)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}}),e.dirty[t.key]?a("v-btn",{attrs:{"x-large":"",raised:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Save & Apply")]):a("v-btn",{attrs:{"x-large":"",disabled:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Save & Apply")]),a("v-btn",{attrs:{"x-large":"",raised:""},on:{click:function(a){e.changeOption(t.key,t.default),t.value=t.default}}},[e._v("Reset")])],1)]:"filesize"===t.type?[a("v-slider",{attrs:{step:"1048576",min:"1048576",max:"1572864000"},on:{change:function(a){return e.changeOption(t.key,t.value)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}}),a("span",[e._v(e._s(t.value/1048576)+" MB")])]:"keepTimeDays"===t.type?[a("v-row",{attrs:{cols:"12"}},[a("v-slider",{attrs:{step:"1",min:"-1",max:"365"},on:{change:function(a){return e.markDirty(t.key)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}}),e.dirty[t.key]?a("v-btn",{attrs:{"x-large":"",raised:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Save & Apply")]):a("v-btn",{attrs:{"x-large":"",disabled:""},on:{click:function(a){return e.changeOption(t.key,t.value)}}},[e._v("Save & Apply")]),a("v-btn",{attrs:{"x-large":"",raised:""},on:{click:function(a){e.changeOption(t.key,t.default),t.value=t.default}}},[e._v("Reset")])],1),-1===t.value?a("span",[e._v("forever")]):a("span",[e._v(e._s(e._f("duration")([t.value,"days"],"humanize"))+" "+e._s(t.value)+"d")])]:a("span",[e._v(e._s(t.type)+e._s(t.value))])],2)],1)],1)],1),a("v-divider",{key:t.key+"_d"})]}))],2)],1)},pt=[];function ft(){var e=Object(te["a"])(["\n  mutation changeOption($key: String!, $value: JSON!) {\n    optionUpdateOne(filter: { key: $key }, record: { value: $value }) {\n      record {\n        key\n        type\n        default\n        desc\n        value\n      }\n    }\n  }\n"]);return ft=function(){return e},e}function ht(){var e=Object(te["a"])(["{\n  options: optionMany {\n    _id\n    key\n    type\n    desc\n    default\n    value\n  }\n}"]);return ht=function(){return e},e}var bt=ne()(ht()),gt=ne()(ft()),_t={apollo:{options:{query:bt,pollInterval:5e3}},data:function(){return{dirty:{},newPassword:""}},watch:{dirty:function(){}},methods:{markSaved:function(e){this.$set(this.dirty,e,!1)},markDirty:function(e){this.$set(this.dirty,e,!0)},changeOption:function(e,t){var a=this;return this.$apollo.mutate({mutation:gt,variables:{key:e,value:t}}).then((function(){a.markSaved(e),"password"===e&&(localStorage.clear(),a.$router.push("/login"))}))}}},yt=_t,kt=(a("ef23"),a("ba0d")),wt=Object(l["a"])(yt,mt,pt,!1,null,null,null),jt=wt.exports;_()(wt,{VBtn:k["a"],VCol:C["a"],VDivider:H["a"],VList:R["a"],VListItem:B["a"],VListItemAction:Q["a"],VListItemContent:G["a"],VListItemTitle:G["b"],VRow:V["a"],VSlider:kt["a"],VSwitch:J["a"],VTextField:I["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{staticStyle:{width:"100%",height:"100%",overflow:"hidden"},attrs:{src:e.iframeUrl}})},St=[],xt={computed:{iframeUrl:function(){return"/api/interactive?Authorization="+localStorage.getItem("token")}}},Ot=xt,Vt=Object(l["a"])(Ot,Ct,St,!1,null,null,null),Nt=Vt.exports,It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-overview"},[a("v-list",{attrs:{"three-line":""}},[e._l(e.operationStatusMany,(function(t){return[a("v-list-item",{key:t._id},[a("v-list-item-content",[a("v-list-item-title",[a("v-progress-circular",{attrs:{indeterminate:!t.cancel&&!t.finished,value:t.progress}}),e._v(" "+e._s(t.text)+" "),a("pre",{staticStyle:{"font-size":"0.75rem"}},[e._v(e._s(t.type))])],1),a("v-list-item-action",["importChat"===t.type?a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-row",{attrs:{cols:"12"}},[t.cancel||t.finished?a("v-btn",{attrs:{color:"warning","x-large":"",raised:""},on:{click:function(a){return e.deleteOperation(t._id)}}},[e._v("delete")]):a("v-btn",{attrs:{large:""},on:{click:function(a){return e.cancelOperation(t._id)}}},[e._v("Cancel")])],1)],1):e._e()],1)],1)],1),a("v-divider",{key:t._id+"_d"})]}))],2)],1)},Dt=[];function $t(){var e=Object(te["a"])(["\n  mutation deleteOperation($key: MongoID!) {\n    operationStatusRemoveById(_id: $key) { recordId }\n  }\n"]);return $t=function(){return e},e}function Tt(){var e=Object(te["a"])(["\n  mutation cancelOperation($key: MongoID!) {\n    cancelOperation: operationStatusUpdateOne(filter: {_id: $key}, record: { cancel: true } ) {\n      recordId\n    }\n  }\n"]);return Tt=function(){return e},e}function Pt(){var e=Object(te["a"])(["{\n  operationStatusMany {\n    _id\n    type\n    progress\n    cancel\n    finished\n    text\n    error\n    link\n  }\n}"]);return Pt=function(){return e},e}var At=ne()(Pt()),Et=ne()(Tt()),Lt=ne()($t()),Ft={apollo:{operationStatusMany:{query:At,pollInterval:1e3}},methods:{cancelOperation:function(e){var t=this;return this.$apollo.mutate({mutation:Et,variables:{key:e}}).then((function(){return t.$apollo.queries.operationStatusMany.refetch()}))},deleteOperation:function(e){var t=this;return this.$apollo.mutate({mutation:Lt,variables:{key:e}}).then((function(){return t.$apollo.queries.operationStatusMany.refetch()}))}}},Mt=Ft,zt=a("490a"),qt=Object(l["a"])(Mt,It,Dt,!1,null,null,null),Ht=qt.exports;_()(qt,{VBtn:k["a"],VCol:C["a"],VDivider:H["a"],VList:R["a"],VListItem:B["a"],VListItemAction:Q["a"],VListItemContent:G["a"],VListItemTitle:G["b"],VProgressCircular:zt["a"],VRow:V["a"]}),n["a"].use(u["a"]);var Ut=[{path:"/login",name:"Login",component:A},{path:"/",meta:{requiresAuth:!0},component:K,children:[{name:"Dashboard",path:"",component:pe},{name:"Raw Query Interface",path:"rqi",component:Nt},{name:"Chats",path:"chats",component:Se},{name:"Chats",path:"chats/:id",component:He,props:!0},{path:"deletedmsgs",component:Je},{path:"settings",component:jt},{path:"operations",component:Ht},{path:"setup",component:vt}]}],Rt=new u["a"]({mode:"history",routes:Ut});Rt.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth})),a()}));var Bt=Rt,Qt=a("2f62");n["a"].use(Qt["a"]);var Gt=new Qt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Wt=(a("a4d3"),a("4de4"),a("4160"),a("c975"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b"),a("96cf"),a("ade3")),Yt=a("522d"),Jt=a("efe7");function Zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(a),!0).forEach((function(t){Object(Wt["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}n["a"].use(Yt["a"]);var Xt="token",ea=Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"/api/graphql",ta=Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_FILES_ROOT||ea.substr(0,ea.indexOf("/graphql"));n["a"].prototype.$filesRoot=ta;var aa={httpEndpoint:ea,wsEndpoint:null,tokenName:Xt,persisting:!1,websocketsOnly:!1,ssr:!1};function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Jt["createApolloClient"])(Kt({},aa,{},e)),a=t.apolloClient,n=t.wsClient;a.wsClient=n;var r=new Yt["a"]({defaultClient:a,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return r}var ra=a("f309");n["a"].use(ra["a"]);var sa=new ra["a"]({icons:{iconfont:"md"}});n["a"].config.productionTip=!1,new n["a"]({router:Bt,store:Gt,apolloProvider:na(),vuetify:sa,render:function(e){return e(d)}}).$mount("#app");var ia=a("c1df");ia.locale("en"),ia.updateLocale("en",{calendar:{lastDay:"[Yesterday at] HH:mm:ss",sameDay:"HH:mm:ss",nextDay:"[Tomorrow at] HH:mm:ss",lastWeek:"[last] dddd [at] HH:mm:ss",nextWeek:"dddd [at] HH:mm:ss",sameElse:"DD.MM.YYYY HH:mm:ss"}}),n["a"].use(a("2ead"),{moment:ia}),n["a"].use(Xe["b"])},"80f4":function(e,t,a){"use strict";var n=a("fe62"),r=a.n(n);r.a},"88fe":function(e,t,a){},ac44:function(e,t,a){"use strict";var n=a("1a88"),r=a.n(n);r.a},ef23:function(e,t,a){"use strict";var n=a("43b9"),r=a.n(n);r.a},fe62:function(e,t,a){}});
//# sourceMappingURL=app.a1534d13.js.map